@tailwind base;
@tailwind components;
@tailwind utilities;

/* ══════════════════════════════════════════════════════
   GCLBA Design System v5 — Neutral-Warm Civic Tech
   ══════════════════════════════════════════════════════ */

/* ── Base ──────────────────────────────────────────── */
@layer base {
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    color: #1a1a1a;
    line-height: 1.5;
  }

  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  *:focus-visible {
    outline: 2px solid rgba(43, 95, 138, 0.5);
    outline-offset: 2px;
  }
  *:focus:not(:focus-visible) {
    outline: none;
  }

  /* Input-specific focus — softer ring replaces generic outline */
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: none;
  }
}

/* ── App background — civic blueprint grid ───────── */
.app-bg {
  background-color: #f6f5f3;
  background-image:
    /* Grid lines — blue tint, visible but not loud */
    repeating-linear-gradient(
      0deg, transparent, transparent 39px,
      rgba(43, 95, 138, 0.06) 39px, rgba(43, 95, 138, 0.06) 40px
    ),
    repeating-linear-gradient(
      90deg, transparent, transparent 39px,
      rgba(43, 95, 138, 0.06) 39px, rgba(43, 95, 138, 0.06) 40px
    ),
    /* Intersection dots — subtle emphasis at grid crossings */
    radial-gradient(circle 0.75px at 40px 40px, rgba(43, 95, 138, 0.10) 0.75px, transparent 0.75px);
  background-size: 40px 40px;
  position: relative;
}
.app-bg::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: 0.12;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
  background-size: 256px 256px;
}

/* ── Sidebar — cooler blue gradient with texture ──── */
.sidebar-bg {
  background:
    linear-gradient(180deg, #1e3a5f 0%, #152d4a 100%);
}

/* Sidebar inner texture — faint vertical grain */
.sidebar-bg::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg width='4' height='4' viewBox='0 0 4 4' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 0h1v4H1z' fill='%23ffffff' fill-opacity='1'/%3E%3C/svg%3E");
  background-size: 4px 4px;
  mix-blend-mode: overlay;
}

/* ── Card hover lift ─────────────────────────────── */
.card-hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.card-hover-lift:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px -4px rgba(0, 0, 0, 0.08), 0 2px 6px -2px rgba(0, 0, 0, 0.04);
}

/* ── Sidebar edge shadow ─────────────────────────── */
.sidebar-bg {
  position: relative;
}

/* ── Mobile sidebar drawer ─────────────────────────── */
.sidebar-drawer {
  transform: translateX(-100%);
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.sidebar-drawer.open {
  transform: translateX(0);
}
.sidebar-backdrop {
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}
.sidebar-backdrop.open {
  opacity: 1;
  pointer-events: auto;
}

/* ── Buyer Portal — section stagger delays ─────────── */
.buyer-stagger-1 { animation-delay: 0ms; }
.buyer-stagger-2 { animation-delay: 100ms; }
.buyer-stagger-3 { animation-delay: 200ms; }
.buyer-stagger-4 { animation-delay: 300ms; }
.buyer-stagger-5 { animation-delay: 400ms; }

/* ── Admin Portal — section stagger delays ─────────── */
.admin-stagger-1 { animation-delay: 0ms; }
.admin-stagger-2 { animation-delay: 80ms; }
.admin-stagger-3 { animation-delay: 160ms; }
.admin-stagger-4 { animation-delay: 240ms; }
.admin-stagger-5 { animation-delay: 320ms; }
.admin-stagger-6 { animation-delay: 400ms; }

/* ── Buyer Portal — progress spine ─────────────────── */
.buyer-spine-line {
  background: repeating-linear-gradient(
    180deg,
    #e4ddd2,
    #e4ddd2 4px,
    transparent 4px,
    transparent 8px
  );
}

/* ── Scrollbar ─────────────────────────────────────── */
@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #c0c0c0 transparent;
  }
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #c0c0c0;
    border-radius: 3px;
  }
}
